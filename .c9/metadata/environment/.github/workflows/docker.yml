{"filter":false,"title":"docker.yml","tooltip":"/.github/workflows/docker.yml","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":29,"column":76},"action":"insert","lines":["name: Build and Push to ECR  ","on:","  push:","    branches: [ main ]","  pull_request:","    branches: [ main ]  ","jobs:  ","  build-push:  ","    runs-on: ubuntu-latest  ","    steps:  ","      - name: Checkout Code  ","        uses: actions/checkout@v3  ","      - name: Configure AWS Credentials  ","        uses: aws-actions/configure-aws-credentials@v2  ","        with:  ","          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}  ","          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }} ","          aws-session-token: ${{ secrets.AWS_SESSION_TOKEN }}","          aws-region: ${{ secrets.AWS_REGION }}  ","      - name: Login to Amazon ECR  ","        id: ecr-login  ","        uses: aws-actions/amazon-ecr-login@v1  ","      - name: Build and Push Webapp Image  ","        run: |  ","          docker build -t ${{ steps.ecr-login.outputs.registry }}/webapp:latest .  ","          docker push ${{ steps.ecr-login.outputs.registry }}/webapp:latest  ","      - name: Build and Push MySQL Image  ","        run: |  ","          docker build -t ${{ steps.ecr-login.outputs.registry }}/mysql:latest -f Dockerfile_mysql .  ","          docker push ${{ steps.ecr-login.outputs.registry }}/mysql:latest  "],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":18,"column":34},"end":{"row":18,"column":44},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1749772661084,"hash":"722cd332a4189ee924590384178470475bac9fa5"}